import json
from typing import Any

from src.company_item import CompanyItem
from src.scrape_ashbyhq import ScrapeAshbyhq
from src.scrape_bamboohr import ScrapeBamboohr
from src.scrape_greenhouse import ScrapeGreenhouse
from src.scrape_lever import ScrapeLever
from src.scrape_lmax import ScrapeLmax
from src.scrape_ripple import ScrapeRipple
from src.scrape_smartrecruiters import ScrapeSmartrecruiters
from src.scrape_workable import ScrapeWorkable


def get_company_list() -> list[CompanyItem | Any]:
    return [
        CompanyItem("binance", "https://jobs.lever.co/binance", ScrapeLever, "https://www.binance.com"),
        CompanyItem('lmax', 'https://careers.lmax.com/job-openings', ScrapeLmax, 'https://www.lmax.com'),
        CompanyItem("kraken", "https://jobs.ashbyhq.com/kraken.com", ScrapeAshbyhq, "https://kraken.com"),
        CompanyItem('moonpay', 'https://jobs.lever.co/moonpay', ScrapeLever, 'https://www.moonpay.com'),
        CompanyItem('phantom', 'https://jobs.ashbyhq.com/phantom', ScrapeAshbyhq, 'https://phantom.com'),
        CompanyItem('obol-tech', 'https://jobs.lever.co/obol-tech', ScrapeLever, 'https://obol.tech'),
        CompanyItem('arbitrumfoundation', 'https://jobs.lever.co/arbitrumfoundation', ScrapeLever,
                    'https://arbitrum.foundation'),
        CompanyItem('aragon', 'https://jobs.lever.co/aragon', ScrapeLever, 'https://aragon.org'),
        CompanyItem('omni-network', 'https://job-boards.greenhouse.io/omnifdn', ScrapeGreenhouse,
                    'https://omni.network'),
        CompanyItem('Tenderly', 'https://jobs.lever.co/Tenderly', ScrapeLever, 'https://tenderly.co'),
        CompanyItem('nomic.foundation', 'https://jobs.ashbyhq.com/nomic.foundation', ScrapeAshbyhq,
                    'https://nomic.foundation'),
        CompanyItem('ethglobal', 'https://jobs.ashbyhq.com/ethglobal', ScrapeAshbyhq, 'https://ethglobal.com'),
        CompanyItem('li.fi', 'https://jobs.ashbyhq.com/li.fi', ScrapeAshbyhq, 'https://li.fi'),
        CompanyItem('Caldera', 'https://jobs.ashbyhq.com/Caldera', ScrapeAshbyhq, 'https://www.caldera.xyz'),
        CompanyItem('blox-route', 'https://jobs.lever.co/blox-route', ScrapeLever,
                    'https://bloxroute.com'),
        CompanyItem('multiversx', 'https://jobs.lever.co/multiversx', ScrapeLever, 'https://multiversx.com'),
        CompanyItem('sprucesystems', 'https://jobs.lever.co/sprucesystems', ScrapeLever, 'https://spruceid.com'),
        CompanyItem("scroll", "https://job-boards.greenhouse.io/scrollio", ScrapeGreenhouse,
                    "https://scroll.io"),
        CompanyItem('impossiblecloud', 'https://jobs.lever.co/impossiblecloud', ScrapeLever,
                    'https://www.impossiblecloud.com'),
        CompanyItem('ether-fi', 'https://jobs.ashbyhq.com/ether.fi', ScrapeAshbyhq, 'https://www.ether.fi'),
        CompanyItem('fuellabs', 'https://jobs.lever.co/fuellabs', ScrapeLever, 'https://www.fuel.network'),
        CompanyItem('harmony', 'https://jobs.lever.co/harmony', ScrapeLever, 'https://www.harmony.one'),
        CompanyItem('wintermute', 'https://jobs.lever.co/wintermute-trading', ScrapeLever,
                    'https://www.wintermute.com'),
        CompanyItem('coinspaid', 'https://jobs.eu.lever.co/coinspaid', ScrapeLever,
                    'https://coinspaid.com'),
        CompanyItem("kaiko", "https://jobs.eu.lever.co/kaiko", ScrapeLever, "https://www.kaiko.com"),
        CompanyItem("swissborg", "https://jobs.lever.co/swissborg", ScrapeLever, "https://swissborg.com"),
        CompanyItem("ethereumfoundation", "https://jobs.lever.co/ethereumfoundation", ScrapeLever,
                    "https://ethereum.org"),
        CompanyItem("aave", "https://jobs.eu.lever.co/avara", ScrapeLever, "https://avara.xyz"),
        CompanyItem("crypto", "https://jobs.lever.co/crypto", ScrapeLever, "https://crypto.com"),
        CompanyItem("Luxor", "https://jobs.ashbyhq.com/luxor", ScrapeAshbyhq, "https://www.luxor.tech"),
        CompanyItem("anchorage", "https://jobs.lever.co/anchorage", ScrapeLever, "https://www.anchorage.com"),
        CompanyItem("Polygon", "https://jobs.ashbyhq.com/polygon-labs", ScrapeAshbyhq, "https://polygon.technology"),
        CompanyItem('centrifuge', 'https://jobs.lever.co/centrifuge', ScrapeLever, 'https://centrifuge.io'),
        CompanyItem("tokenmetrics", "https://jobs.lever.co/tokenmetrics", ScrapeLever,
                    "https://www.tokenmetrics.com"),
        CompanyItem("offchainlabs", "https://jobs.lever.co/offchainlabs", ScrapeLever,
                    "https://offchainlabs.com"),
        CompanyItem('recall', 'https://job-boards.greenhouse.io/recall', ScrapeGreenhouse, 'https://recall.network'),
        CompanyItem("ramp.network", "https://job-boards.eu.greenhouse.io/rampnetwork", ScrapeGreenhouse,
                    "https://ramp.network"),
        CompanyItem("eiger", "https://boards.eu.greenhouse.io/eiger", ScrapeGreenhouse,
                    "https://www.eiger.co"),
        CompanyItem('risklabs', 'https://jobs.ashbyhq.com/risklabs', ScrapeAshbyhq, 'https://risklabs.foundation'),
        CompanyItem('celestia', 'https://jobs.lever.co/celestia', ScrapeLever, 'https://celestia.org'),
        CompanyItem('gauntlet', 'https://jobs.lever.co/gauntlet', ScrapeLever, 'https://gauntlet.network'),
        CompanyItem('machinefilab', 'https://jobs.lever.co/machinefilab', ScrapeLever, 'https://machinefi.com/lab'),
        CompanyItem('gate.io', 'https://jobs.lever.co/gate.io', ScrapeLever, 'https://gate.io'),
        CompanyItem('auroralabs', 'https://jobs.lever.co/aurora-dev', ScrapeLever, 'https://auroralabs.dev'),
        CompanyItem("ledger", "https://jobs.lever.co/ledger", ScrapeLever, "https://www.ledger.com"),
        CompanyItem("immutable", "https://jobs.lever.co/immutable", ScrapeLever, "https://www.immutable.com"),
        CompanyItem("cere-network", "https://jobs.lever.co/cere-network", ScrapeLever, "https://cere.network"),
        CompanyItem('matterlabs', 'https://jobs.eu.lever.co/matterlabs', ScrapeLever, 'https://matter-labs.io'),
        CompanyItem("iftother", "https://boards.greenhouse.io/iftother", ScrapeGreenhouse,
                    "https://free.technology"),
        CompanyItem("wyndlabs", "https://boards.greenhouse.io/wyndlabs", ScrapeGreenhouse,
                    "https://www.wyndlabs.ai"),
        CompanyItem("coinlist", "https://apply.workable.com/coinlist", ScrapeWorkable, "https://coinlist.co"),
        CompanyItem('animocabrands', 'https://jobs.lever.co/animocabrands', ScrapeLever,
                    'https://www.animocabrands.com'),
        CompanyItem('toku', 'https://jobs.lever.co/toku', ScrapeLever, 'https://www.toku.com'),
        CompanyItem("hiro", "https://boards.greenhouse.io/hiro", ScrapeGreenhouse, "https://www.hiro.so"),
        CompanyItem('plume', 'https://jobs.ashbyhq.com/plume-network', ScrapeAshbyhq, 'https://plume.org'),
        CompanyItem('coingecko', 'https://jobs.lever.co/coingecko', ScrapeLever,
                    'https://www.coingecko.com'),
        CompanyItem('connext-network', 'https://jobs.lever.co/connext-network', ScrapeLever,
                    'https://www.connext.network'),
        CompanyItem('ethenalabs', 'https://jobs.lever.co/ethenalabs', ScrapeLever,
                    'https://www.ethena.fi'),
        CompanyItem('SeiLabs', 'https://jobs.lever.co/SeiLabs', ScrapeLever,
                    'https://www.sei.io'),
        CompanyItem('theblock', 'https://jobs.lever.co/theblockcrypto', ScrapeLever,
                    'https://www.theblock.co'),
        CompanyItem('bitwise', 'https://jobs.lever.co/bitwiseinvestments', ScrapeLever,
                    'https://bitwiseinvestments.com'),
        CompanyItem('grayscaleinvestments', 'https://boards.greenhouse.io/grayscaleinvestments', ScrapeGreenhouse,
                    'https://grayscale.com'),
        CompanyItem('dydx', 'https://boards.greenhouse.io/dydx', ScrapeGreenhouse,
                    'https://dydx.exchange'),
        CompanyItem('xlabs', 'https://jobs.ashbyhq.com/Xlabs', ScrapeAshbyhq,
                    'https://www.xlabs.xyz'),
        CompanyItem('movementlabs', 'https://jobs.ashbyhq.com/movementlabs', ScrapeAshbyhq,
                    'https://movementlabs.xyz'),
        CompanyItem('succinct', 'https://jobs.ashbyhq.com/succinct', ScrapeAshbyhq, 'https://succinct.xyz'),
        CompanyItem("jumpcrypto", "https://boards.greenhouse.io/jumpcrypto", ScrapeGreenhouse,
                    "https://jumpcrypto.com"),
        CompanyItem("0x", "https://jobs.ashbyhq.com/0x", ScrapeAshbyhq, "https://0x.org"),
        CompanyItem("ritual", "https://boards.greenhouse.io/ritual", ScrapeGreenhouse,
                    "https://ritual.net"),
        CompanyItem('econetwork', 'https://job-boards.greenhouse.io/ecoinc', ScrapeGreenhouse,
                    'https://eco.com'),
        CompanyItem('magic', 'https://job-boards.greenhouse.io/magic', ScrapeGreenhouse, 'https://magic.link'),
        CompanyItem("coinmarketcap", "https://jobs.lever.co/coinmarketcap",
                    ScrapeSmartrecruiters, "https://coinmarketcap.com"),
        CompanyItem('orderlynetwork', 'https://job-boards.greenhouse.io/orderly', ScrapeGreenhouse,
                    'https://orderly.network'),
        CompanyItem('shardeum', 'https://boards.greenhouse.io/shardeumfoundation', ScrapeGreenhouse,
                    'https://shardeum.org'),
        CompanyItem("zora", "https://boards.greenhouse.io/zora", ScrapeGreenhouse, "https://zora.co"),
        CompanyItem("wormholefoundation", "https://boards.greenhouse.io/iftother", ScrapeGreenhouse,
                    "https://wormhole.com"),
        CompanyItem("blockchain", "https://boards.greenhouse.io/blockchain", ScrapeGreenhouse,
                    "https://www.blockchain.com"),
        CompanyItem("OKX", "https://boards.greenhouse.io/OKX", ScrapeGreenhouse, "https://okx.com"),
        CompanyItem("bitmex", "https://boards.greenhouse.io/bitmex", ScrapeGreenhouse, "https://bitmex.com"),
        CompanyItem("bitgo", "https://boards.greenhouse.io/bitgo", ScrapeGreenhouse, "https://bitgo.com"),
        CompanyItem("bitpanda", "https://boards.eu.greenhouse.io/bitpanda", ScrapeGreenhouse,
                    "https://bitpanda.com"),
        CompanyItem("uniswaplabs", "https://boards.greenhouse.io/uniswaplabs", ScrapeGreenhouse,
                    "https://uniswap.org"),
        CompanyItem('penumbralabs', 'https://boards.greenhouse.io/penumbralabs', ScrapeGreenhouse,
                    'https://eco.com'),
        CompanyItem("figment", "https://boards.greenhouse.io/figment", ScrapeGreenhouse,
                    "https://www.figment.io"),
        CompanyItem("OpenSea", "https://jobs.ashbyhq.com/OpenSea", ScrapeAshbyhq, "https://opensea.io"),
        CompanyItem('center', 'https://jobs.ashbyhq.com/center', ScrapeAshbyhq,
                    'https://center.app'),
        CompanyItem('linera.io', 'https://jobs.ashbyhq.com/linera.io', ScrapeAshbyhq,
                    'https://linera.io'),
        CompanyItem('shadow', 'https://jobs.ashbyhq.com/shadow', ScrapeAshbyhq,
                    'https://www.shadow.xyz'),
        CompanyItem('cointracker', 'https://jobs.ashbyhq.com/cointracker', ScrapeAshbyhq,
                    'https://www.cointracker.io'),
        CompanyItem('Bastion', 'https://jobs.ashbyhq.com/Bastion', ScrapeAshbyhq,
                    'https://www.bastion.com'),
        CompanyItem('Sui.Foundation', 'https://jobs.ashbyhq.com/Sui%20Foundation', ScrapeAshbyhq,
                    'https://sui.io'),
        CompanyItem('dourolabs', 'https://jobs.ashbyhq.com/dourolabs.xyz', ScrapeAshbyhq,
                    'https://dourolabs.xyz'),
        CompanyItem('StationLabs', 'https://jobs.ashbyhq.com/StationLabs', ScrapeAshbyhq,
                    'https://www.station.express'),
        CompanyItem('rain', 'https://jobs.ashbyhq.com/rain', ScrapeAshbyhq, 'https://www.raincards.xyz'),
        CompanyItem('mystenlabs', 'https://jobs.ashbyhq.com/mystenlabs', ScrapeAshbyhq,
                    'https://mystenlabs.com'),
        CompanyItem('conduit', 'https://jobs.ashbyhq.com/Conduit', ScrapeAshbyhq, 'https://conduit.xyz'),
        CompanyItem('kiln', 'https://jobs.ashbyhq.com/kiln.fi', ScrapeAshbyhq, 'https://www.kiln.fi'),
        CompanyItem("flashbots", "https://jobs.ashbyhq.com/flashbots.net", ScrapeAshbyhq,
                    "https://www.flashbots.net"),
        CompanyItem('paradigm.xyz', 'https://jobs.ashbyhq.com/paradigm', ScrapeAshbyhq, 'https://www.paradigm.xyz'),
        CompanyItem("solanafoundation", "https://jobs.ashbyhq.com/Solana%20Foundation", ScrapeAshbyhq,
                    "https://solana.org"),
        CompanyItem('syndica', 'https://jobs.ashbyhq.com/syndica', ScrapeAshbyhq, 'https://syndica.io'),
        CompanyItem('Blockworks', 'https://jobs.ashbyhq.com/Blockworks', ScrapeAshbyhq,
                    'https://blockworks.co'),
        CompanyItem('ellipsislabs', 'https://jobs.ashbyhq.com/ellipsislabs', ScrapeAshbyhq,
                    'https://ellipsislabs.xyz'),
        CompanyItem('safe.global', 'https://jobs.ashbyhq.com/safe.global', ScrapeAshbyhq,
                    'https://safe.global'),
        CompanyItem('cryptio', 'https://jobs.ashbyhq.com/cryptio', ScrapeAshbyhq,
                    'https://cryptio.co'),
        CompanyItem('Artemisxyz', 'https://jobs.ashbyhq.com/Artemisxyz', ScrapeAshbyhq,
                    'https://www.artemis.xyz'),
        CompanyItem('Keyrock', 'https://jobs.ashbyhq.com/Keyrock', ScrapeAshbyhq,
                    'https://keyrock.eu'),
        CompanyItem('sound.xyz', 'https://jobs.ashbyhq.com/sound.xyz', ScrapeAshbyhq,
                    'https://www.sound.xyz'),
        CompanyItem("quiknodeinc", "https://jobs.ashbyhq.com/quicknode", ScrapeAshbyhq,
                    "https://www.quicknode.com"),
        CompanyItem('21co', 'https://job-boards.greenhouse.io/21cotechnologies', ScrapeGreenhouse,
                    'https://www.21.co'),
        CompanyItem('xapo', 'https://boards.greenhouse.io/xapo61', ScrapeGreenhouse,
                    'https://www.xapobank.com'),
        CompanyItem("exodus54", "https://job-boards.greenhouse.io/exodus54", ScrapeGreenhouse,
                    "https://www.exodus.com"),
        CompanyItem("alchemy", "https://boards.greenhouse.io/alchemy", ScrapeGreenhouse,
                    "https://www.alchemy.com"),
        CompanyItem("chainalysis", "https://jobs.ashbyhq.com/chainalysis-careers", ScrapeAshbyhq,
                    "https://www.chainalysis.com"),
        CompanyItem("magiceden", "https://boards.greenhouse.io/magiceden", ScrapeGreenhouse,
                    "https://www.magiceden.io"),
        CompanyItem("aztec", "https://boards.eu.greenhouse.io/aztec", ScrapeGreenhouse,
                    "https://aztec.network"),
        CompanyItem('near', 'https://boards.greenhouse.io/near', ScrapeGreenhouse,
                    'https://near.org'),
        CompanyItem("nethermind", "https://boards.eu.greenhouse.io/nethermind", ScrapeGreenhouse,
                    "https://nethermind.io"),
        CompanyItem("dfinity", "https://boards.greenhouse.io/dfinity", ScrapeGreenhouse, "https://dfinity.org"),
        CompanyItem('stellar', 'https://boards.greenhouse.io/stellar', ScrapeGreenhouse,
                    'https://stellar.org'),
        CompanyItem("parity", "https://boards.greenhouse.io/parity", ScrapeGreenhouse, "https://www.parity.io"),
        CompanyItem("optimism", "https://boards.greenhouse.io/optimismunlimited", ScrapeGreenhouse,
                    "https://www.optimism.io"),
        CompanyItem('coinmetrics', 'https://boards.greenhouse.io/coinmetrics', ScrapeGreenhouse,
                    'https://coinmetrics.io'),
        CompanyItem("oplabs", "https://boards.greenhouse.io/oplabs", ScrapeGreenhouse, "https://www.oplabs.co"),
        CompanyItem('goldsky', 'https://boards.greenhouse.io/goldsky', ScrapeGreenhouse,
                    'https://goldsky.com'),
        CompanyItem('walletconnect', 'https://apply.workable.com/walletconnect', ScrapeWorkable,
                    'https://walletconnect.com'),
        CompanyItem('distributedcrafts', 'https://apply.workable.com/distributedcrafts', ScrapeWorkable,
                    'https://www.gobob.xyz/'),
        CompanyItem('prepo', 'https://apply.workable.com/prepo', ScrapeWorkable,
                    'https://prepo.io'),
        CompanyItem('io-global', 'https://apply.workable.com/io-global/#jobs', ScrapeWorkable,
                    'https://iohk.io'),
        CompanyItem('clockwork-labs', 'https://apply.workable.com/clockwork-labs',
                    ScrapeWorkable, 'https://clockworklabs.io'),
        CompanyItem('o1labs', 'https://boards.greenhouse.io/o1labs', ScrapeGreenhouse, 'https://o1labs.org'),
        CompanyItem('paradigm.co', 'https://boards.greenhouse.io/paradigm62', ScrapeGreenhouse,
                    'https://www.paradigm.co'),
        CompanyItem("Swissquote", "https://careers.smartrecruiters.com/Swissquote", ScrapeSmartrecruiters,
                    "https://en.swissquote.com"),
        CompanyItem('taxbit', 'https://boards.greenhouse.io/taxbit', ScrapeGreenhouse, 'https://taxbit.com'),
        CompanyItem("avalabs", "https://boards.greenhouse.io/avalabs", ScrapeGreenhouse,
                    "https://www.avalabs.org"),
        CompanyItem("aptoslabs", "https://boards.greenhouse.io/aptoslabs", ScrapeGreenhouse,
                    "https://aptoslabs.com"),
        CompanyItem('iofinnet', 'https://iofinnethr.bamboohr.com/jobs/?source=bamboohr', ScrapeBamboohr,
                    'https://www.iofinnet.com'),
        CompanyItem('almanak', 'https://apply.workable.com/almanak-blockchain-labs-ag', ScrapeWorkable,
                    'https://almanak.co'),
        CompanyItem('dune', 'https://jobs.ashbyhq.com/dune', ScrapeAshbyhq, 'https://dune.com'),
        CompanyItem('blast', 'https://jobs.ashbyhq.com/blast-io', ScrapeAshbyhq, 'https://blast.io'),
        CompanyItem('windranger', 'https://jobs.ashbyhq.com/windranger', ScrapeAshbyhq,
                    'https://windranger.io'),
        CompanyItem("filecoinfoundation", "https://boards.greenhouse.io/filecoinfoundation", ScrapeGreenhouse,
                    "https://fil.org"),
        CompanyItem('foundrydigital', 'https://boards.greenhouse.io/foundrydigital', ScrapeGreenhouse,
                    'https://foundrydigital.com'),
        CompanyItem('immunefi', 'https://boards.greenhouse.io/immunefi', ScrapeGreenhouse, 'https://immunefi.com'),
        CompanyItem("messari", "https://boards.greenhouse.io/messari", ScrapeGreenhouse, "https://messari.io"),
        CompanyItem("serotonin", "https://boards.greenhouse.io/serotonin", ScrapeGreenhouse, "https://serotonin.co"),
        CompanyItem("copperco", "https://boards.eu.greenhouse.io/copperco", ScrapeGreenhouse,
                    "https://copper.co"),
        CompanyItem("layerzerolabs", "https://boards.greenhouse.io/layerzerolabs", ScrapeGreenhouse,
                    "https://layerzero.network"),
        CompanyItem("oasisnetwork", "https://boards.greenhouse.io/oasisnetwork", ScrapeGreenhouse,
                    "https://oasisprotocol.org"),
        CompanyItem("ripple", "https://ripple.com/careers/all-jobs", ScrapeRipple, "https://ripple.com"),
        CompanyItem("eigenlabs", "https://boards.greenhouse.io/eigenlabs", ScrapeGreenhouse,
                    "https://www.eigenlayer.xyz"),
        CompanyItem('sygnum', 'https://sygnum.bamboohr.com/careers', ScrapeBamboohr, 'https://www.sygnum.com'),
        CompanyItem("galaxydigitalservices", "https://boards.greenhouse.io/galaxydigitalservices",
                    ScrapeGreenhouse, "https://www.galaxy.com"),
        CompanyItem("solana", "https://boards.greenhouse.io/solana", ScrapeGreenhouse,
                    "https://solana.com"),
        CompanyItem("clearmatics", "https://job-boards.greenhouse.io/clearmatics", ScrapeGreenhouse,
                    "https://www.clearmatics.com"),
        CompanyItem('brave', 'https://job-boards.greenhouse.io/brave', ScrapeGreenhouse,
                    'https://brave.com'),
    ]


def get_company(name) -> CompanyItem:
    company_list = get_company_list()
    companies = list(filter(lambda jd: jd.company_name == name, company_list))
    if len(companies) > 1:
        raise NameError(f'Duplicated company name: {name}')
    return companies[0]


def write_companies(file_name):
    result_list = []
    for com in get_company_list():
        company_item = {
            "company_name": com.company_name,
            "company_url": com.company_url,
            "jobs_url": com.jobs_url,
        }
        result_list.append(company_item)
    print(f'[COMPANY_LIST] Number of Companies writen {len(result_list)}')
    with open(file_name, 'w') as companies_file:
        json.dump(result_list, companies_file, indent=4)
